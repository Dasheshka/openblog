---
import PostCard from "@/components/PostCard.astro";
import { cn, getReadingTime } from "@/utils";
import type { CollectionEntry } from "astro:content";

type Props = {
  posts: CollectionEntry<"posts">[];
  FirstBig?: boolean;
};

const { posts, FirstBig = false } = Astro.props;
---

<section
  class={cn(
    `grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8 mt-3`,
    FirstBig && `md:[&>*:first-child]:col-span-2`,
  )}
>
  {
    posts.map(async (post) => {
      const readingTime = getReadingTime(post.body);

      return (
        <PostCard data={post.data} slug={post.slug} readingTime={readingTime} />
      );
    })
  }
</section>
